# HTML → Markdown 変換ツール

HTML を Markdown 形式に変換するシンプルなブラウザベースのツールです。

## 使い方

1. `index.html` をブラウザで開きます。
2. 左側の「入力 HTML」エリアに HTML コードを貼り付けます。
3. 「変換する」ボタンをクリックします。
4. 右側の「出力 Markdown」エリアに変換結果が表示されます。
5. 「Markdown をコピー」ボタンでクリップボードにコピーできます。

オプション:
- **テキスト内のマークダウンをエスケープしない**: チェックを入れると、元のテキストに含まれる Markdown 記法（`*`, `_`, `` ` `` など）をエスケープせずにそのまま出力します。

## 変換仕様 (Specification)

`index.html` 内の `htmlToMarkdown` 関数によって以下のルールで変換が行われます。

### 前処理 (Preprocessing)
- **削除**: `<script>`, `<style>` タグは内容ごと削除されます。
- **Unwrap**: `<span>`, `<div>` タグはタグ自体が削除され、その子要素（テキストや他のタグ）は親要素に移動して残ります。

### タグ変換ルール

| HTML タグ | Markdown 対応 | 備考 |
| :--- | :--- | :--- |
| `h1` - `h6` | `#` - `######` | 見出しレベルに応じた `#` の数 |
| `p` | (空行) | 前後に空行が入る |
| `br` | `  \n` | 末尾に半角スペース2つ + 改行 |
| `blockquote` | `> ` | 各行の先頭に `> ` を付与 |
| `b`, `strong` | `**text**` | 太字 |
| `i`, `em` | `*text*` | 斜体 |
| `code` | `` `text` `` | インラインコード (コードブロック内ではそのまま) |
| `pre` | ` ``` ` | コードブロック (子要素の `code` のテキストを表示) |
| `ul`, `ol`, `li` | `- `, `1. ` | ネスト対応 (インデントはスペース2つ) |
| `a` | `[text](href)` | リンク |
| `img` | `![alt](src)` | 画像 |
| `hr` | `---` | 水平線 |
| `dl`, `dt`, `dd` | **dt**<br>dd | `dt`は太字、`dd`はそのまま |
| `table` 系 | `\|...\|` | シンプルな Markdown テーブル変換に対応 |

### その他の挙動
- **エスケープ処理**: デフォルトではMarkdownの特殊文字（`\` `|` `*` `_` `` ` ``）はバックスラッシュでエスケープされます。チェックボックスで無効化可能。
- **空行の圧縮**: 変換後、3つ以上続く連続した改行は2つ（1つの空行）に圧縮されます。
